/* ============================================================
   ZentinelS v2.0 – Learning Platform UI
   Dark Sidebar + Light Main Content
   ============================================================ */

/* ---- Variables ---- */
:root {
    /* Sidebar (Dark) */
    --sidebar-bg: #0f1419;
    --sidebar-bg2: #1a1f2e;
    --sidebar-border: #2d3548;
    --sidebar-text: #8899a6;
    --sidebar-text-active: #ffffff;
    --sidebar-hover: rgba(255,255,255,0.06);
    --sidebar-accent: #4c9aff;
    --sidebar-width: 260px;

    /* Main (Light) */
    --main-bg: #f5f7fa;
    --card-bg: #ffffff;
    --topbar-bg: #ffffff;
    --text-dark: #1a202c;
    --text-body: #4a5568;
    --text-muted: #a0aec0;
    --border-light: #e2e8f0;

    /* Accents */
    --accent-blue: #4c9aff;
    --accent-green: #48bb78;
    --accent-red: #fc8181;
    --accent-orange: #ed8936;
    --accent-purple: #9f7aea;
    --accent-cyan: #38b2ac;
    --accent-yellow: #ecc94b;

    /* Shared */
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.06);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
    --shadow-lg: 0 8px 30px rgba(0,0,0,0.12);
    --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
    --transition: all 0.2s ease;

    /* Aliases used by generated demos & labs */
    --success: #48bb78;
    --danger: #e53e3e;
    --warning: #d69e2e;
    --accent: #4c9aff;
    --bg-secondary: #f7fafc;
    --border: #e2e8f0;
}

/* ---- Reset ---- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body { font-family: var(--font-sans); background: var(--main-bg); color: var(--text-body); line-height: 1.6; min-height: 100vh; overflow: hidden; }
a { color: var(--accent-blue); text-decoration: none; transition: var(--transition); }
a:hover { color: #357ae8; }
img { max-width: 100%; }

/* ============================================================
   LAYOUT: Sidebar + Main
   ============================================================ */
.app-layout {
    display: flex;
    height: 100vh;
    overflow: hidden;
}

/* ---- SIDEBAR ---- */
.sidebar {
    width: var(--sidebar-width);
    min-width: var(--sidebar-width);
    background: var(--sidebar-bg);
    display: flex;
    flex-direction: column;
    border-right: 1px solid var(--sidebar-border);
    transition: var(--transition);
    z-index: 200;
    overflow-y: auto;
}

.sidebar.collapsed { margin-left: calc(-1 * var(--sidebar-width)); }

.sidebar-header {
    padding: 20px 20px 16px;
    border-bottom: 1px solid var(--sidebar-border);
}

.sidebar-brand {
    display: flex;
    align-items: center;
    gap: 10px;
}

.brand-icon { font-size: 1.6rem; }

.brand-text {
    font-size: 1.2rem;
    font-weight: 800;
    color: var(--sidebar-text-active);
    letter-spacing: -0.5px;
}

/* Sidebar User */
.sidebar-user {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 20px;
    border-bottom: 1px solid var(--sidebar-border);
}

.user-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 0.9rem;
    flex-shrink: 0;
}

.user-info { display: flex; flex-direction: column; overflow: hidden; }
.user-name { color: var(--sidebar-text-active); font-weight: 600; font-size: 0.85rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.user-role { color: var(--sidebar-text); font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.5px; }

/* Sidebar Nav */
.sidebar-nav {
    flex: 1;
    padding: 12px 0;
    overflow-y: auto;
}

.nav-section { margin-bottom: 8px; }

.nav-label {
    display: block;
    padding: 8px 20px 4px;
    font-size: 0.65rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1.2px;
    color: var(--sidebar-text);
    opacity: 0.5;
}

.nav-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 9px 20px;
    color: var(--sidebar-text);
    font-size: 0.85rem;
    font-weight: 500;
    transition: var(--transition);
    border-left: 3px solid transparent;
    cursor: pointer;
}

.nav-item:hover {
    background: var(--sidebar-hover);
    color: var(--sidebar-text-active);
}

.nav-item.active {
    color: var(--sidebar-accent);
    background: rgba(76,154,255,0.08);
    border-left-color: var(--sidebar-accent);
}

.nav-icon { font-size: 1rem; width: 20px; text-align: center; }

.sidebar-footer {
    padding: 16px 20px;
    border-top: 1px solid var(--sidebar-border);
    text-align: center;
}

.sidebar-footer p { font-size: 0.7rem; color: var(--sidebar-text); opacity: 0.5; }

/* ---- MAIN WRAPPER ---- */
.main-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    min-width: 0;
}

/* ---- TOP BAR ---- */
.topbar {
    height: 56px;
    background: var(--topbar-bg);
    border-bottom: 1px solid var(--border-light);
    display: flex;
    align-items: center;
    padding: 0 24px;
    gap: 16px;
    flex-shrink: 0;
    box-shadow: var(--shadow-sm);
}

.sidebar-toggle {
    background: none;
    border: none;
    font-size: 1.2rem;
    cursor: pointer;
    color: var(--text-body);
    padding: 4px;
    display: none;
}

.topbar-breadcrumb {
    flex: 1;
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-dark);
}

.topbar-breadcrumb span + span::before { content: ' / '; color: var(--text-muted); }

.topbar-actions { display: flex; align-items: center; gap: 10px; }

.topbar-auth { display: flex; gap: 8px; }

/* ---- PAGE CONTENT ---- */
.page-content {
    flex: 1;
    overflow-y: auto;
    padding: 28px;
}

/* ============================================================
   AUTH MODAL
   ============================================================ */
.auth-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(4px);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.auth-overlay.hidden { display: none; }

.auth-modal {
    background: var(--card-bg);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    width: 420px;
    max-width: 95vw;
    padding: 36px;
    position: relative;
    animation: modalIn 0.25s ease;
}

@keyframes modalIn {
    from { opacity: 0; transform: translateY(-20px) scale(0.97); }
    to { opacity: 1; transform: translateY(0) scale(1); }
}

.auth-close {
    position: absolute;
    top: 12px; right: 16px;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--text-muted);
    line-height: 1;
}

.auth-close:hover { color: var(--text-dark); }

.auth-modal h2 {
    text-align: center;
    color: var(--text-dark);
    margin-bottom: 6px;
    font-size: 1.5rem;
}

.auth-subtitle {
    text-align: center;
    color: var(--text-muted);
    font-size: 0.85rem;
    margin-bottom: 24px;
}

.form-group { margin-bottom: 16px; }

.form-group label {
    display: block;
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--text-body);
    margin-bottom: 6px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.form-input {
    width: 100%;
    padding: 10px 14px;
    border: 1.5px solid var(--border-light);
    border-radius: var(--radius-sm);
    font-size: 0.9rem;
    font-family: inherit;
    color: var(--text-dark);
    background: var(--main-bg);
    transition: var(--transition);
}

.form-input:focus {
    outline: none;
    border-color: var(--accent-blue);
    box-shadow: 0 0 0 3px rgba(76,154,255,0.15);
}

.auth-error {
    background: #fff5f5;
    border: 1px solid #feb2b2;
    color: #c53030;
    padding: 10px;
    border-radius: var(--radius-sm);
    margin-bottom: 16px;
    font-size: 0.85rem;
    display: none;
}

.auth-error.show { display: block; }

.auth-footer {
    text-align: center;
    margin-top: 16px;
    font-size: 0.85rem;
    color: var(--text-muted);
}

.auth-demo {
    text-align: center;
    margin-top: 10px;
    padding: 10px;
    background: #f0fff4;
    border-radius: var(--radius-sm);
    font-size: 0.8rem;
    color: var(--accent-green);
    border: 1px solid #c6f6d5;
}

/* ============================================================
   BUTTONS
   ============================================================ */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 10px 20px;
    border: 1.5px solid transparent;
    border-radius: var(--radius-sm);
    font-family: inherit;
    font-size: 0.85rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    text-decoration: none;
    white-space: nowrap;
}

.btn-primary { background: var(--accent-blue); color: #fff; }
.btn-primary:hover { background: #357ae8; box-shadow: 0 4px 12px rgba(76,154,255,0.3); color: #fff; }

.btn-success { background: var(--accent-green); color: #fff; }
.btn-success:hover { background: #38a169; }

.btn-danger { background: var(--accent-red); color: #fff; }
.btn-danger:hover { background: #e53e3e; }

.btn-outline { background: transparent; border-color: var(--border-light); color: var(--text-body); }
.btn-outline:hover { border-color: var(--accent-blue); color: var(--accent-blue); }

.btn-ghost { background: transparent; color: var(--text-muted); border: none; }
.btn-ghost:hover { color: var(--text-dark); background: var(--main-bg); }

.btn-sm { padding: 6px 14px; font-size: 0.78rem; }
.btn-lg { padding: 14px 28px; font-size: 0.95rem; }
.btn-block { width: 100%; }

.btn:disabled { opacity: 0.5; cursor: not-allowed; }

/* ============================================================
   CARDS
   ============================================================ */
.card {
    background: var(--card-bg);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    padding: 24px;
    transition: var(--transition);
    box-shadow: var(--shadow-sm);
}

.card:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.card-flat { box-shadow: none; }
.card-flat:hover { transform: none; box-shadow: none; }

/* ============================================================
   HOME / DASHBOARD
   ============================================================ */
.welcome-banner {
    background: linear-gradient(135deg, #1a202c 0%, #2d3748 50%, #1a365d 100%);
    border-radius: var(--radius-lg);
    padding: 40px;
    color: white;
    margin-bottom: 28px;
    position: relative;
    overflow: hidden;
}

.welcome-banner::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -20%;
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, rgba(76,154,255,0.15) 0%, transparent 60%);
    border-radius: 50%;
}

.welcome-banner h1 {
    font-size: 1.8rem;
    font-weight: 800;
    margin-bottom: 8px;
    position: relative;
}

.welcome-banner p {
    font-size: 1rem;
    opacity: 0.8;
    max-width: 500px;
    position: relative;
    margin-bottom: 20px;
}

/* Stats Grid */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 28px;
}

.stat-card {
    background: var(--card-bg);
    border-radius: var(--radius-md);
    padding: 20px;
    border: 1px solid var(--border-light);
    display: flex;
    align-items: center;
    gap: 16px;
    box-shadow: var(--shadow-sm);
}

.stat-icon {
    width: 48px;
    height: 48px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    flex-shrink: 0;
}

.stat-icon.blue { background: rgba(76,154,255,0.1); }
.stat-icon.green { background: rgba(72,187,120,0.1); }
.stat-icon.purple { background: rgba(159,122,234,0.1); }
.stat-icon.orange { background: rgba(237,137,54,0.1); }

.stat-info .stat-value { font-size: 1.5rem; font-weight: 800; color: var(--text-dark); }
.stat-info .stat-label { font-size: 0.78rem; color: var(--text-muted); font-weight: 500; }

/* ============================================================
   COURSES
   ============================================================ */
.courses-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 20px;
}

.course-card {
    background: var(--card-bg);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    overflow: hidden;
    cursor: pointer;
    transition: var(--transition);
    box-shadow: var(--shadow-sm);
}

.course-card:hover { box-shadow: var(--shadow-md); transform: translateY(-3px); }

.course-card-banner {
    height: 8px;
    width: 100%;
}

.course-card-body { padding: 24px; }

.course-card-icon-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
}

.course-card-icon { font-size: 2rem; }

.course-card-body h3 { font-size: 1.1rem; font-weight: 700; color: var(--text-dark); margin-bottom: 8px; }

.course-card-body p { font-size: 0.85rem; color: var(--text-muted); line-height: 1.6; margin-bottom: 16px; }

.course-card-action {
    margin-top: 16px;
    padding-top: 14px;
    border-top: 1px solid var(--border-light);
}

.course-start-link {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--accent-blue);
    transition: var(--transition);
}

.course-card:hover .course-start-link { color: #357ae8; }

.course-card-meta {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

.meta-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 0.72rem;
    font-weight: 600;
}

.meta-badge.beginner { background: #f0fff4; color: #276749; }
.meta-badge.intermediate { background: #fffff0; color: #975a16; }
.meta-badge.advanced { background: #fff5f5; color: #9b2c2c; }
.meta-badge.info { background: #ebf8ff; color: #2b6cb0; }

/* ============================================================
   COURSE DETAIL / LEVELS – Enhanced
   ============================================================ */
.course-detail-page { max-width: 900px; }

.course-header-enhanced {
    background: var(--card-bg);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    padding: 32px;
    margin-bottom: 28px;
    box-shadow: var(--shadow-sm);
}

.course-header-top { margin-bottom: 20px; }

.course-header-content {
    display: flex;
    gap: 20px;
    align-items: flex-start;
}

.course-header-icon {
    width: 64px;
    height: 64px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    flex-shrink: 0;
}

.course-header-info { flex: 1; }
.course-header-info h1 { font-size: 1.6rem; font-weight: 800; color: var(--text-dark); margin-bottom: 8px; }
.course-header-desc { color: var(--text-muted); font-size: 0.9rem; max-width: 600px; margin-bottom: 14px; line-height: 1.6; }

.course-header-badges { display: flex; gap: 8px; flex-wrap: wrap; }

.course-progress-bar-wrapper {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-top: 20px;
    padding-top: 16px;
    border-top: 1px solid var(--border-light);
}

.course-progress-bar {
    flex: 1;
    height: 8px;
    background: #edf2f7;
    border-radius: 4px;
    overflow: hidden;
}

.course-progress-fill {
    height: 100%;
    border-radius: 4px;
    transition: width 0.6s ease;
}

.course-progress-text {
    font-size: 0.8rem;
    color: var(--text-muted);
    font-weight: 600;
    white-space: nowrap;
}

.levels-timeline {
    position: relative;
}

.levels-timeline::before {
    content: '';
    position: absolute;
    left: 39px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: var(--border-light);
    z-index: 0;
}

.course-header {
    background: var(--card-bg);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    padding: 32px;
    margin-bottom: 24px;
    box-shadow: var(--shadow-sm);
}

.course-header h1 { font-size: 1.6rem; font-weight: 800; color: var(--text-dark); margin-bottom: 8px; }
.course-header p { color: var(--text-muted); font-size: 0.9rem; max-width: 600px; }

.level-card {
    background: var(--card-bg);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    margin-bottom: 16px;
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    position: relative;
    z-index: 1;
}

.level-header {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 20px 24px;
    cursor: pointer;
    transition: var(--transition);
}

.level-header:hover { background: var(--main-bg); }

.level-number {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 800;
    font-size: 0.9rem;
    flex-shrink: 0;
    transition: var(--transition);
}

.level-number.completed { background: linear-gradient(135deg, var(--accent-green), #38a169); }
.level-number.started { background: linear-gradient(135deg, var(--accent-orange), #dd6b20); }

.level-info { flex: 1; }
.level-info h3 { font-size: 1rem; font-weight: 700; color: var(--text-dark); }
.level-info p { font-size: 0.8rem; color: var(--text-muted); margin-top: 2px; }

.level-progress {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--text-muted);
}

.level-stats {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 4px;
}

.level-lesson-count {
    font-size: 0.78rem;
    font-weight: 600;
    color: var(--text-muted);
}

.level-status-badge {
    font-size: 0.7rem;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 10px;
}

.level-status-badge.completed { background: #f0fff4; color: #276749; }
.level-status-badge.in-progress { background: #fffff0; color: #975a16; }

.level-chevron {
    color: var(--text-muted);
    transition: transform 0.2s;
    font-size: 0.9rem;
}

.level-card.expanded .level-chevron { transform: rotate(90deg); }

.level-lessons {
    border-top: 1px solid var(--border-light);
    padding: 12px;
    display: none;
}

.level-card.expanded .level-lessons { display: block; }

.lesson-list-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 16px;
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: var(--transition);
    border: 1px solid transparent;
}

.lesson-list-item:hover { background: var(--main-bg); border-color: var(--border-light); }
.lesson-list-item.completed { background: rgba(72, 187, 120, 0.04); }

.lesson-list-number {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--main-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: 700;
    color: var(--text-muted);
    flex-shrink: 0;
}

.lesson-list-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: rgba(76,154,255,0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    flex-shrink: 0;
}

.lesson-list-info { flex: 1; }
.lesson-list-info h4 { font-size: 0.85rem; font-weight: 600; color: var(--text-dark); }
.lesson-list-info span { font-size: 0.75rem; color: var(--text-muted); display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }

.lesson-list-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-shrink: 0;
}

.difficulty-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
}

.lesson-arrow {
    font-size: 0.9rem;
    color: var(--text-muted);
    transition: var(--transition);
}

.lesson-list-item:hover .lesson-arrow { color: var(--accent-blue); transform: translateX(2px); }

/* ============================================================
   LESSON GRID (All Lessons page)
   ============================================================ */
.section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
}

.section-header h2 { font-size: 1.3rem; font-weight: 700; color: var(--text-dark); }

.category-filter {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin-bottom: 20px;
}

.category-pill {
    padding: 6px 16px;
    border-radius: 20px;
    border: 1.5px solid var(--border-light);
    background: var(--card-bg);
    color: var(--text-muted);
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
}

.category-pill:hover, .category-pill.active {
    border-color: var(--accent-blue);
    color: var(--accent-blue);
    background: rgba(76,154,255,0.05);
}

.lessons-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 16px;
}

.lesson-card {
    background: var(--card-bg);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    padding: 24px;
    cursor: pointer;
    transition: var(--transition);
    box-shadow: var(--shadow-sm);
}

.lesson-card:hover { box-shadow: var(--shadow-md); transform: translateY(-2px); }

.lesson-card .card-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
}

.lesson-card .category-tag {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 0.7rem;
    font-weight: 600;
    background: rgba(76,154,255,0.1);
    color: var(--accent-blue);
}

.lesson-card h3 { font-size: 1rem; font-weight: 700; color: var(--text-dark); margin-bottom: 8px; }
.lesson-card p { font-size: 0.85rem; color: var(--text-muted); line-height: 1.5; }
.lesson-card .card-action { margin-top: 16px; }

/* ============================================================
   LESSON DETAIL PAGE
   ============================================================ */
.lesson-detail-header {
    display: flex;
    align-items: flex-start;
    gap: 20px;
    margin-bottom: 24px;
}

.back-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 10px 20px;
    background: var(--card-bg);
    border: 1.5px solid var(--border-light);
    border-radius: var(--radius-md);
    font-family: inherit;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--accent-blue);
    cursor: pointer;
    transition: var(--transition);
    outline: none;
    box-shadow: var(--shadow-sm);
    flex-shrink: 0;
    white-space: nowrap;
    -webkit-appearance: none;
    appearance: none;
}

.back-btn:hover {
    background: #ebf8ff;
    border-color: var(--accent-blue);
    box-shadow: 0 4px 12px rgba(76,154,255,0.15);
    transform: translateX(-2px);
}

.back-btn:active { transform: translateX(0); box-shadow: var(--shadow-sm); }

.lesson-detail-info h1 { font-size: 1.5rem; font-weight: 800; color: var(--text-dark); margin-bottom: 4px; }

.lesson-summary {
    font-size: 0.88rem;
    color: var(--text-muted);
    margin-top: 8px;
    line-height: 1.5;
}

.lesson-meta {
    display: flex;
    gap: 10px;
    margin-bottom: 8px;
}

/* Tabs */
.lesson-tabs {
    display: flex;
    gap: 0;
    background: var(--card-bg);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md) var(--radius-md) 0 0;
    overflow: hidden;
}

.lesson-tab {
    flex: 1;
    padding: 14px 20px;
    text-align: center;
    font-weight: 600;
    font-size: 0.85rem;
    cursor: pointer;
    transition: var(--transition);
    background: var(--card-bg);
    color: var(--text-muted);
    border: none;
    border-bottom: 3px solid transparent;
    position: relative;
}

.lesson-tab:hover { color: var(--text-dark); background: var(--main-bg); }
.lesson-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); }
.lesson-tab.completed::after { content: ' ✓'; color: var(--accent-green); }

.tab-content-area {
    background: var(--card-bg);
    border: 1px solid var(--border-light);
    border-top: none;
    border-radius: 0 0 var(--radius-md) var(--radius-md);
    padding: 28px;
    min-height: 400px;
}

.tab-pane { display: none; }
.tab-pane.active { display: block; }

/* ============================================================
   LESSON THEORY
   ============================================================ */
.lesson-theory {
    max-width: 750px;
    line-height: 1.8;
    color: var(--text-body);
}

.lesson-theory h2 { font-size: 1.3rem; font-weight: 700; color: var(--text-dark); margin: 28px 0 12px 0; }
.lesson-theory h3 { font-size: 1.05rem; font-weight: 700; color: var(--text-dark); margin: 20px 0 8px 0; }

.lesson-theory p { margin-bottom: 12px; }

.lesson-theory ul, .lesson-theory ol { margin: 8px 0 16px 20px; }
.lesson-theory li { margin-bottom: 6px; }

.lesson-theory code {
    background: #edf2f7;
    padding: 2px 6px;
    border-radius: 4px;
    font-family: var(--font-mono);
    font-size: 0.85em;
    color: var(--accent-blue);
}

.lesson-theory pre.code-example {
    background: #1a202c;
    color: #e2e8f0;
    padding: 16px 20px;
    border-radius: var(--radius-sm);
    font-family: var(--font-mono);
    font-size: 0.85rem;
    overflow-x: auto;
    margin: 12px 0;
    line-height: 1.6;
}

.info-table {
    width: 100%;
    border-collapse: collapse;
    margin: 12px 0 20px;
    font-size: 0.85rem;
}

.info-table th, .info-table td {
    padding: 10px 14px;
    text-align: left;
    border: 1px solid var(--border-light);
}

.info-table th {
    background: var(--main-bg);
    font-weight: 600;
    color: var(--text-dark);
}

/* ============================================================
   DEMO SECTION – Interactive
   ============================================================ */
.demo-interactive { max-width: 900px; }

.demo-scenario {
    margin-bottom: 20px;
}

.demo-header-bar {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px;
}

.demo-badge {
    padding: 4px 10px;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.demo-badge-danger { background: #fff5f5; color: #e53e3e; border: 1px solid #feb2b2; }
.demo-badge-warning { background: #fffff0; color: #d69e2e; border: 1px solid #fefcbf; }
.demo-badge-success { background: #f0fff4; color: #38a169; border: 1px solid #c6f6d5; }
.demo-badge-info { background: #ebf8ff; color: #3182ce; border: 1px solid #bee3f8; }

.demo-title { font-weight: 700; color: var(--text-dark); font-size: 0.95rem; }

.demo-visual {
    display: flex;
    gap: 16px;
}

.demo-browser {
    flex: 1;
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    overflow: hidden;
    background: #fff;
}

.browser-bar {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    background: #f7fafc;
    border-bottom: 1px solid var(--border-light);
    font-size: 0.75rem;
}

.dot { width: 10px; height: 10px; border-radius: 50%; }
.dot.red { background: #fc8181; }
.dot.yellow { background: #faf089; }
.dot.green { background: #68d391; }

.browser-url {
    flex: 1;
    margin-left: 8px;
    padding: 4px 10px;
    background: #edf2f7;
    border-radius: 4px;
    color: var(--text-muted);
    font-family: var(--font-mono);
    font-size: 0.72rem;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}

.browser-content { padding: 16px; }

.demo-sql-panel {
    flex: 1;
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    overflow: hidden;
    background: #1a202c;
}

.panel-header {
    padding: 10px 16px;
    font-size: 0.78rem;
    font-weight: 600;
    color: #a0aec0;
    background: #2d3748;
    border-bottom: 1px solid #4a5568;
}

.result-header { background: #2a4365; color: #90cdf4; }

.demo-sql-code {
    padding: 16px;
    font-family: var(--font-mono);
    font-size: 0.8rem;
    color: #e2e8f0;
    line-height: 1.7;
    overflow: auto;
    max-height: 300px;
}

.demo-sql-code pre { white-space: pre-wrap; word-wrap: break-word; }

.sql-value { color: #68d391; font-weight: 600; }
.sql-comment { color: #718096; font-style: italic; }

.demo-result-panel {
    border-top: 1px solid #4a5568;
}

.demo-result-panel.hidden { display: none; }

/* Demo Steps Bar */
.demo-steps-bar {
    display: flex;
    gap: 8px;
    margin: 16px 0;
    flex-wrap: wrap;
}

.demo-step-btn {
    padding: 8px 16px;
    border: 1.5px solid var(--border-light);
    border-radius: var(--radius-sm);
    background: var(--card-bg);
    color: var(--text-body);
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
}

.demo-step-btn:hover { border-color: var(--accent-blue); color: var(--accent-blue); }
.demo-step-btn.active { background: var(--accent-blue); color: white; border-color: var(--accent-blue); }

/* Demo Explanation */
.demo-explanation {
    display: flex;
    gap: 12px;
    padding: 16px 20px;
    background: #ebf8ff;
    border: 1px solid #bee3f8;
    border-radius: var(--radius-md);
    margin-top: 12px;
}

.explanation-icon { font-size: 1.2rem; flex-shrink: 0; margin-top: 2px; }
.explanation-text { flex: 1; }
.explanation-text p { margin: 0; font-size: 0.85rem; color: #2c5282; line-height: 1.5; }
.explanation-text p + p { margin-top: 6px; }

/* Demo App Specific */
.demo-login-form { max-width: 280px; margin: 0 auto; }
.demo-login-form h4 { text-align: center; margin-bottom: 4px; color: var(--text-dark); }
.demo-subtitle { text-align: center; font-size: 0.78rem; color: var(--text-muted); margin-bottom: 16px; }

.demo-field { margin-bottom: 12px; }
.demo-field label { display: block; font-size: 0.75rem; font-weight: 600; color: var(--text-muted); margin-bottom: 4px; }
.demo-input {
    width: 100%;
    padding: 8px 12px;
    border: 1.5px solid var(--border-light);
    border-radius: var(--radius-sm);
    font-family: var(--font-mono);
    font-size: 0.82rem;
    color: var(--text-dark);
    background: #fff;
}
.demo-input:focus { outline: none; border-color: var(--accent-blue); }

.demo-btn {
    padding: 8px 16px;
    background: var(--accent-blue);
    color: white;
    border: none;
    border-radius: var(--radius-sm);
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
}
.demo-btn:hover { background: #357ae8; }
.demo-btn-sm { padding: 6px 12px; font-size: 0.75rem; }
.demo-btn-danger { background: var(--accent-red); }
.demo-btn-danger:hover { background: #e53e3e; }

.demo-status {
    margin-top: 12px;
    padding: 10px;
    border-radius: var(--radius-sm);
    font-size: 0.82rem;
    font-weight: 600;
    text-align: center;
    display: none;
}

.demo-status.show { display: block; }
.demo-status.success { background: #f0fff4; color: #276749; border: 1px solid #c6f6d5; }
.demo-status.error { background: #fff5f5; color: #9b2c2c; border: 1px solid #feb2b2; }
.demo-status.warning { background: #fffff0; color: #975a16; border: 1px solid #fefcbf; }

/* ============================================================
   LAB SECTION
   ============================================================ */
.lab-exercise { max-width: 800px; }

/* Lab Header / Badge / Title – used by labGeneric and custom labs */
.lab-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 16px;
}

.lab-badge {
    padding: 4px 12px;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    flex-shrink: 0;
}

.lab-badge-challenge { background: #faf5ff; color: #805ad5; border: 1px solid #e9d8fd; }

.lab-title {
    font-weight: 700;
    font-size: 1rem;
    color: var(--text-dark);
}

.lab-body {
    background: var(--card-bg);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    padding: 24px;
}

.lab-body > p {
    font-size: 0.92rem;
    color: var(--text-body);
    line-height: 1.6;
    margin-bottom: 16px;
}

.lab-body code {
    background: #edf2f7;
    padding: 2px 6px;
    border-radius: 4px;
    font-family: var(--font-mono);
    font-size: 0.85em;
    color: #e53e3e;
}

/* Lab Multiple-Choice Options */
.lab-options {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.lab-option {
    display: block;
    width: 100%;
    text-align: left;
    padding: 14px 20px;
    border: 1.5px solid var(--border-light);
    border-radius: var(--radius-md);
    background: var(--card-bg);
    color: var(--text-body);
    font-family: inherit;
    font-size: 0.88rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    line-height: 1.5;
    outline: none;
    box-shadow: var(--shadow-sm);
    position: relative;
    -webkit-appearance: none;
    appearance: none;
}

.lab-option:hover {
    border-color: var(--accent-blue);
    background: #ebf8ff;
    color: var(--text-dark);
    transform: translateX(4px);
    box-shadow: 0 4px 12px rgba(76,154,255,0.12);
}

.lab-option:active { transform: translateX(2px); }

.lab-option.selected {
    border-color: var(--accent-blue);
    background: #ebf8ff;
    color: var(--text-dark);
    box-shadow: 0 0 0 3px rgba(76,154,255,0.15);
}

.lab-option.correct {
    border-color: var(--accent-green);
    background: #f0fff4;
    color: #276749;
    font-weight: 600;
    box-shadow: 0 0 0 3px rgba(72,187,120,0.15);
    transform: none;
}

.lab-option.correct::before { content: '✓  '; font-weight: 700; color: #38a169; }

.lab-option.wrong {
    border-color: var(--accent-red);
    background: #fff5f5;
    color: #9b2c2c;
    box-shadow: 0 0 0 3px rgba(252,129,129,0.15);
    transform: none;
    animation: shake 0.4s ease;
}

.lab-option.wrong::before { content: '✗  '; font-weight: 700; color: #e53e3e; }

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-6px); }
    50% { transform: translateX(6px); }
    75% { transform: translateX(-4px); }
}

/* Lab Feedback */
.lab-feedback {
    margin-top: 16px;
    padding: 14px 18px;
    border-radius: var(--radius-sm);
    font-weight: 600;
    font-size: 0.9rem;
}

.lab-feedback-success { background: #f0fff4; border: 1px solid #c6f6d5; color: #276749; }
.lab-feedback-error { background: #fff5f5; border: 1px solid #feb2b2; color: #9b2c2c; }

.lab-briefing {
    background: #f7fafc;
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    padding: 24px;
    margin-bottom: 20px;
}

.lab-objective {
    display: flex;
    gap: 14px;
    margin-bottom: 16px;
}

.lab-obj-icon { font-size: 1.5rem; flex-shrink: 0; }
.lab-objective h4 { font-size: 1rem; font-weight: 700; color: var(--text-dark); margin-bottom: 4px; }
.lab-objective p { font-size: 0.85rem; color: var(--text-body); }

.lab-rules { display: flex; flex-direction: column; gap: 6px; }
.rule { display: flex; align-items: center; gap: 8px; font-size: 0.82rem; color: var(--text-body); }
.rule-icon { font-size: 0.9rem; }

.lab-workspace {
    margin-bottom: 16px;
}

.lab-terminal {
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    overflow: hidden;
}

.terminal-header {
    background: #2d3748;
    padding: 10px 16px;
    font-size: 0.78rem;
    font-weight: 600;
    color: #a0aec0;
    display: flex;
    align-items: center;
    gap: 10px;
}

.terminal-dots { color: #fc8181; font-size: 0.55rem; letter-spacing: 4px; }

.terminal-body { padding: 20px; background: #fff; }

.lab-field { margin-bottom: 14px; }
.lab-field label {
    display: block;
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--text-body);
    margin-bottom: 6px;
}

.lab-input {
    width: 100%;
    padding: 10px 14px;
    border: 1.5px solid var(--border-light);
    border-radius: var(--radius-sm);
    font-family: var(--font-mono);
    font-size: 0.85rem;
    color: var(--text-dark);
    background: var(--main-bg);
    transition: var(--transition);
}

.lab-input:focus {
    outline: none;
    border-color: var(--accent-blue);
    box-shadow: 0 0 0 3px rgba(76,154,255,0.12);
}

textarea.lab-input { resize: vertical; font-family: var(--font-mono); }

.lab-query-preview {
    margin: 12px 0;
    padding: 12px 16px;
    background: #1a202c;
    border-radius: var(--radius-sm);
    font-family: var(--font-mono);
    font-size: 0.8rem;
    color: #e2e8f0;
    overflow-x: auto;
}

.preview-label {
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    display: block;
    margin-bottom: 6px;
}

.lab-preview-box {
    min-height: 60px;
    padding: 14px;
    border: 1px dashed var(--border-light);
    border-radius: var(--radius-sm);
    margin-top: 8px;
    background: #f7fafc;
}

.lab-preview-section { margin-top: 16px; }

.lab-result {
    padding: 14px 18px;
    border-radius: var(--radius-sm);
    margin: 14px 0;
    font-weight: 600;
    font-size: 0.9rem;
}

.lab-result.hidden { display: none; }
.lab-result.success { background: #f0fff4; border: 1px solid #c6f6d5; color: #276749; }
.lab-result.failure { background: #fff5f5; border: 1px solid #feb2b2; color: #9b2c2c; }

.lab-hints {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin-top: 16px;
}

.btn-hint {
    padding: 6px 14px;
    border: 1.5px solid #fefcbf;
    border-radius: var(--radius-sm);
    background: #fffff0;
    color: #975a16;
    font-size: 0.78rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
}

.btn-hint:hover { background: #fefcbf; }

.hint-box {
    width: 100%;
    padding: 12px 16px;
    background: #fffff0;
    border: 1px solid #fefcbf;
    border-radius: var(--radius-sm);
    font-size: 0.85rem;
    color: #975a16;
    margin-top: 4px;
}

.hint-box.hidden { display: none; }
.hint-box code { background: #fef3c7; padding: 2px 6px; border-radius: 3px; font-family: var(--font-mono); font-size: 0.82em; }

/* ============================================================
   QUIZ SECTION
   ============================================================ */
.quiz-container { max-width: 700px; }

.quiz-progress {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-bottom: 20px;
}

.quiz-progress-bar {
    flex: 1;
    height: 6px;
    background: #edf2f7;
    border-radius: 3px;
    overflow: hidden;
}

.quiz-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple));
    border-radius: 3px;
    transition: width 0.5s ease;
}

.quiz-progress-text { font-size: 0.8rem; color: var(--text-muted); font-weight: 600; white-space: nowrap; }

.question-card {
    background: var(--main-bg);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    padding: 28px;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
}

.question-card h3 { font-size: 1rem; font-weight: 600; color: var(--text-dark); margin-bottom: 20px; line-height: 1.6; }

.options-list { list-style: none; display: flex; flex-direction: column; gap: 10px; }

.option-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    border: 1.5px solid var(--border-light);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: var(--transition);
    font-size: 0.9rem;
    color: var(--text-body);
    background: var(--card-bg);
}

.option-item:hover { border-color: var(--accent-blue); background: rgba(76,154,255,0.03); }
.option-item.selected { border-color: var(--accent-blue); background: rgba(76,154,255,0.06); }
.option-item.correct { border-color: var(--accent-green); background: #f0fff4; }
.option-item.wrong { border-color: var(--accent-red); background: #fff5f5; }

.option-letter {
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: var(--main-bg);
    font-weight: 700;
    font-size: 0.82rem;
    color: var(--text-muted);
    flex-shrink: 0;
}

.option-item.selected .option-letter { background: var(--accent-blue); color: #fff; }
.option-item.correct .option-letter { background: var(--accent-green); color: #fff; }
.option-item.wrong .option-letter { background: var(--accent-red); color: #fff; }

.quiz-explanation {
    margin-top: 16px;
    padding: 14px 18px;
    background: #ebf8ff;
    border-left: 3px solid var(--accent-blue);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    font-size: 0.85rem;
    color: #2c5282;
}

.quiz-actions { display: flex; justify-content: space-between; margin-top: 20px; }

.quiz-results {
    text-align: center;
    padding: 32px;
    animation: fadeIn 0.4s ease;
}

.quiz-results .result-icon { font-size: 3.5rem; margin-bottom: 12px; }
.quiz-results h2 { font-size: 1.5rem; font-weight: 800; color: var(--text-dark); margin-bottom: 8px; }

.score-display {
    font-size: 3rem;
    font-weight: 800;
    margin: 12px 0;
}

.score-display.pass { color: var(--accent-green); }
.score-display.fail { color: var(--accent-red); }

.score-detail { color: var(--text-muted); margin-bottom: 24px; }

/* ============================================================
   SCORE DASHBOARD
   ============================================================ */
.progress-list { margin-top: 16px; }

.progress-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 16px;
    border-bottom: 1px solid var(--border-light);
}

.progress-item:last-child { border-bottom: none; }
.progress-item .lesson-name { flex: 1; font-weight: 600; color: var(--text-dark); font-size: 0.9rem; }
.progress-item .badges { display: flex; gap: 6px; }

.badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 0.7rem;
    font-weight: 600;
}

.badge-done { background: #f0fff4; color: #276749; }
.badge-pending { background: #f7fafc; color: var(--text-muted); }
.badge-score { background: #ebf8ff; color: #2b6cb0; }

/* ============================================================
   DEMO-SPECIFIC COMPONENTS
   ============================================================ */
/* Social media demo */
.demo-social { padding: 0; }
.demo-post { padding: 12px; border-bottom: 1px solid var(--border-light); }
.demo-post-header { font-size: 0.82rem; margin-bottom: 6px; }
.demo-time { color: var(--text-muted); font-size: 0.7rem; margin-left: 4px; }
.demo-comments { padding: 8px 12px; }
.demo-comment { padding: 6px 0; font-size: 0.82rem; color: var(--text-body); }
.demo-comment-form { display: flex; gap: 8px; padding: 8px 12px; border-top: 1px solid var(--border-light); }

/* Bank UI */
.demo-bank-ui { padding: 0; }
.bank-header { background: #1a365d; color: white; padding: 12px 16px; font-weight: 700; font-size: 0.9rem; display: flex; justify-content: space-between; }
.bank-user { font-weight: 400; font-size: 0.8rem; opacity: 0.8; }
.bank-balance { padding: 16px; font-size: 0.9rem; color: var(--text-body); }
.bank-actions { padding: 0 16px 16px; display: flex; gap: 8px; }
.demo-log { padding: 12px 16px; font-size: 0.82rem; color: var(--text-body); min-height: 40px; }

/* IDOR */
.demo-api-explorer { padding: 0; }
.idor-profile { margin-top: 16px; }
.profile-card { background: #f7fafc; border-radius: var(--radius-md); padding: 20px; text-align: center; }
.profile-avatar { font-size: 2.5rem; margin-bottom: 8px; }
.profile-detail { font-size: 0.82rem; color: var(--text-muted); margin-top: 4px; }

/* Command Injection */
.cmdi-output {
    margin-top: 12px;
    background: #1a202c;
    border-radius: var(--radius-sm);
    padding: 14px 16px;
    font-family: var(--font-mono);
    font-size: 0.8rem;
    color: #68d391;
    max-height: 200px;
    overflow-y: auto;
}

.cmdi-output pre { white-space: pre-wrap; }

/* File list */
.file-list { display: flex; flex-direction: column; gap: 4px; }
.file-item { padding: 8px 12px; border-radius: var(--radius-sm); cursor: pointer; font-size: 0.82rem; transition: var(--transition); }
.file-item:hover { background: #edf2f7; }

/* Security scan */
.misconfig-checks { display: flex; flex-direction: column; gap: 6px; }
.check-item { display: flex; align-items: center; gap: 10px; padding: 10px 14px; border: 1px solid var(--border-light); border-radius: var(--radius-sm); font-size: 0.85rem; font-weight: 500; transition: var(--transition); }
.check-icon { font-size: 1rem; }
.check-item.pass { border-color: #c6f6d5; background: #f0fff4; }
.check-item.fail { border-color: #feb2b2; background: #fff5f5; }

.placeholder-text { color: var(--text-muted); font-style: italic; font-size: 0.85rem; }

/* ============================================================
   LOADING / EMPTY / TOAST
   ============================================================ */
.loading-screen {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 60px;
    color: var(--text-muted);
    gap: 12px;
}

.spinner {
    width: 36px;
    height: 36px;
    border: 3px solid var(--border-light);
    border-top-color: var(--accent-blue);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

@keyframes spin { to { transform: rotate(360deg); } }

.empty-state {
    text-align: center;
    padding: 48px 24px;
    color: var(--text-muted);
}

.empty-state .icon { font-size: 2.5rem; margin-bottom: 12px; }
.empty-state p { font-size: 0.9rem; }

.toast-container {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 2000;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.toast {
    padding: 12px 20px;
    border-radius: var(--radius-sm);
    font-size: 0.85rem;
    font-weight: 500;
    box-shadow: var(--shadow-lg);
    max-width: 360px;
    animation: slideIn 0.3s ease;
    color: white;
}

.toast-success { background: #48bb78; }
.toast-error { background: #fc8181; }
.toast-info { background: #4c9aff; }

@keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

/* ============================================================
   LESSON TRACKING & STATUS
   ============================================================ */
.lesson-tracking-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    padding: 12px 16px;
    background: var(--main-bg);
    border-radius: var(--radius-md);
    margin-top: 12px;
    border: 1px solid var(--border-light);
}

.tracking-sections {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

.tracking-item {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 500;
    background: #f0f0f0;
    color: var(--text-muted);
    border: 1px solid var(--border-light);
}

.tracking-item.done {
    background: #c6f6d5;
    color: #22543d;
    border-color: #9ae6b4;
}

.lesson-action-btns {
    display: flex;
    gap: 8px;
    align-items: center;
}

.lesson-complete-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.82rem;
    font-weight: 600;
    background: linear-gradient(135deg, #c6f6d5, #9ae6b4);
    color: #22543d;
}

.lesson-status-indicator {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
}

.lesson-status-indicator.done { background: #c6f6d5; color: #22543d; }
.lesson-status-indicator.progress { background: #fefcbf; color: #744210; }
.lesson-status-indicator.new { background: #e2e8f0; color: #4a5568; }

.lesson-status-label {
    font-size: 0.7rem;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 10px;
    white-space: nowrap;
}

.lesson-status-label.done { background: #c6f6d5; color: #22543d; }
.lesson-status-label.progress { background: #fefcbf; color: #744210; }
.lesson-status-label.new { background: #edf2f7; color: #a0aec0; }

.lesson-list-item.in-progress {
    background: #fffff0;
    border-left: 3px solid #ecc94b;
}

.quiz-score-badge {
    font-size: 0.7rem;
    font-weight: 700;
    padding: 2px 6px;
    border-radius: 8px;
    background: #ebf4ff;
    color: #3182ce;
}

.badge-progress {
    background: #fefcbf;
    color: #744210;
}

/* Theory callouts */
.theory-callout {
    padding: 14px 18px;
    border-radius: var(--radius-md);
    margin: 16px 0;
    font-size: 0.9rem;
    line-height: 1.6;
}

.theory-callout.danger {
    background: #fff5f5;
    border-left: 4px solid #fc8181;
    color: #9b2c2c;
}

.theory-callout.info {
    background: #ebf8ff;
    border-left: 4px solid #63b3ed;
    color: #2a4365;
}

.theory-callout.success {
    background: #f0fff4;
    border-left: 4px solid #68d391;
    color: #22543d;
}

/* Stat card yellow */
.stat-icon.yellow {
    background: #fefcbf;
    color: #d69e2e;
}

/* ============================================================
   HIDDEN
   ============================================================ */
.hidden { display: none !important; }

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width: 900px) {
    .sidebar { position: fixed; left: 0; top: 0; bottom: 0; transform: translateX(-100%); z-index: 300; }
    .sidebar.show { transform: translateX(0); }
    .sidebar-toggle { display: block; }
    .demo-visual { flex-direction: column; }
    .lessons-grid { grid-template-columns: 1fr; }
    .courses-grid { grid-template-columns: 1fr; }
    .stats-grid { grid-template-columns: 1fr 1fr; }
}

@media (max-width: 600px) {
    .page-content { padding: 16px; }
    .welcome-banner { padding: 24px; }
    .welcome-banner h1 { font-size: 1.3rem; }
    .stats-grid { grid-template-columns: 1fr; }
    .lesson-tabs { flex-wrap: wrap; }
}
